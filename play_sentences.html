<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>S√§tze: Ruhe vs. +10 dB SNR</title>
  <style>
    :root {
      --bg: #0b1220;
      --card: #111a2b;
      --text: #e7edf7;
      --muted: #9fb0c6;
      --accent: #7cc4ff;
      --accent-2: #a3e8a3;
    }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text); background: radial-gradient(1200px 800px at 20% -10%, #1a2a49 0, #0b1220 60%);
      display: grid; place-items: center; padding: 24px;
    }
    .wrap { width: min(100%, 1000px); }
    h1 { font-size: clamp(1.2rem, 3vw, 1.8rem); margin: 0 0 8px; letter-spacing: 0.3px; }
    p.sub { margin: 0 0 24px; color: var(--muted); }

    .grid {
      display: grid; gap: 16px; grid-template-columns: repeat(3, minmax(0, 1fr));
    }
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px; padding: 16px; position: relative; overflow: clip;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
      transition: transform 120ms ease, box-shadow 200ms ease, border-color 200ms ease;
      cursor: pointer; user-select: none;
    }
    .card:hover { transform: translateY(-2px); border-color: rgba(124,196,255,0.5); box-shadow: 0 16px 40px rgba(0,0,0,0.45); }
    .rowTag {
      position: absolute; inset: 0 auto auto 0; padding: 6px 10px; font-size: 12px; letter-spacing: .3px;
      background: rgba(124,196,255,0.12); color: var(--accent); border-bottom-right-radius: 12px;
      border: 1px solid rgba(124,196,255,0.35); border-left: none; border-top: none;
    }
    .rowTag.noise { background: rgba(163,232,163,0.12); color: var(--accent-2); border-color: rgba(163,232,163,0.35); }
    .icon { font-size: 48px; display: block; text-align: center; margin: 14px 0 6px; }
    .label { text-align: center; color: var(--muted); font-size: 14px; }

    .playing { outline: 2px solid var(--accent); outline-offset: -2px; }
    .playing.noise { outline-color: var(--accent-2); }

    .legend { display:flex; gap:14px; align-items:center; margin: 18px 0 8px; color: var(--muted); font-size: 14px; }
    .pill { display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,0.12); }
    .dot { width:10px; height:10px; border-radius:50%; background: var(--accent); }
    .dot.noise { background: var(--accent-2); }

    footer { margin-top: 18px; color: var(--muted); font-size: 12px; }
    code { background: rgba(255,255,255,0.06); padding: 2px 6px; border-radius: 6px; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>W√§sche ‚Äì Reis ‚Äì Wolke ¬∑ <span style="color:var(--accent)">in Ruhe</span> vs <span style="color:var(--accent-2)">+10 dB SNR</span></h1>
    <p class="sub">Klicke auf ein Icon. Obere Reihe: <strong>in Ruhe</strong>. Untere Reihe: <strong>im St√∂rger√§usch (+10 dB SNR)</strong>.</p>

    <div class="legend">
      <span class="pill"><span class="dot"></span> in Ruhe</span>
      <span class="pill"><span class="dot noise"></span> +10 dB SNR</span>
    </div>

    <div id="grid" class="grid">
      <!-- Row 1: in Ruhe -->
      <button class="card" data-id="hp56" data-variant="ruhe" aria-label="HP56 in Ruhe abspielen">
        <span class="rowTag">Ruhe</span>
        <span class="icon">üß∫</span>
        <div class="label">HP56</div>
      </button>
      <button class="card" data-id="lp56" data-variant="ruhe" aria-label="LP56 in Ruhe abspielen">
        <span class="rowTag">Ruhe</span>
        <span class="icon">üçö</span>
        <div class="label">LP56</div>
      </button>
      <button class="card" data-id="f56b" data-variant="ruhe" aria-label="F56b in Ruhe abspielen">
        <span class="rowTag">Ruhe</span>
        <span class="icon">‚òÅÔ∏è</span>
        <div class="label">F56b</div>
      </button>

      <!-- Row 2: +10 dB SNR -->
      <button class="card noise" data-id="hp56" data-variant="snr10" aria-label="HP56 im St√∂rger√§usch abspielen">
        <span class="rowTag noise">+10 dB</span>
        <span class="icon">üß∫</span>
        <div class="label">HP56</div>
      </button>
      <button class="card noise" data-id="lp56" data-variant="snr10" aria-label="LP56 im St√∂rger√§usch abspielen">
        <span class="rowTag noise">+10 dB</span>
        <span class="icon">üçö</span>
        <div class="label">LP56</div>
      </button>
      <button class="card noise" data-id="f56b" data-variant="snr10" aria-label="F56b im St√∂rger√§usch abspielen">
        <span class="rowTag noise">+10 dB</span>
        <span class="icon">‚òÅÔ∏è</span>
        <div class="label">F56b</div>
      </button>
    </div>

    <footer>
      Lege deine Audiodateien unter <code>/audio</code> ab. Erwartete Dateinamen:
      <code>waesche_ruhe.wav</code>, <code>waesche_snr10.wav</code>, <code>reis_ruhe.wav</code>, <code>reis_snr10.wav</code>, <code>wolke_ruhe.wav</code>, <code>wolke_snr10.wav</code>.
    </footer>
  </div>

  <script>
    // Map logical IDs to audio file paths (WAV recommended)
    const audioMap = {
      hp56: { ruhe: "audio/HP56.wav",  snr10: "audio/HP56_snr10.wav" },
      lp56: { ruhe: "audio/LP56.wav",  snr10: "audio/LP56_snr10.wav" },
      f56b: { ruhe: "audio/F56b.wav", snr10: "audio/F56b_snr10.wav" }
    };

    let currentAudio = null;
    let currentBtn = null;

    function stopCurrent() {
      if (currentAudio) { currentAudio.pause(); currentAudio.currentTime = 0; }
      if (currentBtn) { currentBtn.classList.remove("playing"); currentBtn.classList.remove("noise"); }
      currentAudio = null;
      currentBtn = null;
    }

    document.getElementById('grid').addEventListener('click', (e) => {
      const btn = e.target.closest('button.card');
      if (!btn) return;
      const id = btn.getAttribute('data-id');
      const variant = btn.getAttribute('data-variant');
      const src = audioMap[id]?.[variant];
      if (!src) return;

      if (currentBtn === btn) { // toggle off if same button
        stopCurrent();
        return;
      }

      stopCurrent();
      const a = new Audio(src);
      a.addEventListener('ended', stopCurrent);
      currentAudio = a;
      currentBtn = btn;
      btn.classList.add('playing');
      if (variant === 'snr10') btn.classList.add('noise');
      a.play();
    });

    // Keyboard support: 1..3 -> Ruhe, 4..6 -> +10 dB
    window.addEventListener('keydown', (ev) => {
      const k = ev.key;
      const map = { '1':['waesche','ruhe'], '2':['reis','ruhe'], '3':['wolke','ruhe'], '4':['waesche','snr10'], '5':['reis','snr10'], '6':['wolke','snr10'] };
      if (!map[k]) return;
      const [id,variant] = map[k];
      const btn = document.querySelector(`button.card[data-id="${id}"][data-variant="${variant}"]`);
      if (btn) btn.click();
    });
  </script>
</body>
</html>
